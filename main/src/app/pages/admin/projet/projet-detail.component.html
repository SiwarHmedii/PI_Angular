<div *ngIf="projet">
  <mat-card class="cardWithShadow theme-card">
    <mat-card-header>
      <mat-card-title class="m-b-0">{{ projet.nom }}</mat-card-title>
      <mat-card-subtitle>{{ projet.description }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="b-t-1">
      <p>Date de début: {{ projet.dateDebut | date }}</p>
      <p>Date de fin prévue: {{ projet.dateFinPrevue | date }}</p>
      <p *ngIf="projet.dateFinReelle">Date de fin réelle: {{ projet.dateFinReelle | date }}</p>
      <p>Type de projet: {{ projet.projectType ? projet.projectType.split('_').join(' ') : 'N/A' }}</p>

      <div *ngIf="projet.teacherEmail">
        <h3>Encadrant</h3>
        <p>{{ projet.teacherEmail }}</p>
      </div>
      <div *ngIf="!projet.teacherEmail">
        <p>Aucun encadrant assigné.</p>
      </div>

      <h3>Liste des étudiants</h3>
      <ul *ngIf="projet.studentEmailsList && projet.studentEmailsList.length > 0; else noEtudiants">
        <li *ngFor="let email of projet.studentEmailsList">
          {{ email }}
        </li>
      </ul>
      <ng-template #noEtudiants>
        <p>Aucun étudiant associé à ce projet.</p>
      </ng-template>

      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button (click)="goBack()">Retour à la liste des projets</button>
    </mat-card-actions>
  </mat-card>
</div>

<div *ngIf="projetId && !projet && !errorMessage">
  Chargement des détails du projet...
</div>

<div *ngIf="errorMessage">
  {{ errorMessage }}
</div>