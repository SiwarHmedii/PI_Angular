<h2>Gestion des Étudiants du Sprint {{ sprintId }}</h2>

<mat-card>
  <mat-card-title>Étudiants Affectés</mat-card-title>
  <mat-card-content>
    <mat-chip-listbox *ngIf="etudiantsAffectes.length > 0; else aucunEtudiant" aria-label="Sélection d'étudiants affectés">
      <mat-chip-row *ngFor="let etudiant of etudiantsAffectes" removable (removed)="supprimerEtudiant(etudiant)">
        <mat-icon matChipAvatar>person</mat-icon>
        {{ etudiant }}
        <button matChipRemove [ariaLabel]="'Supprimer ' + etudiant">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip-row>
    </mat-chip-listbox>
    <ng-template #aucunEtudiant>
      <p class="text-muted">Aucun étudiant n'est affecté à ce sprint.</p>
    </ng-template>
  </mat-card-content>
</mat-card>

<mat-card class="mt-3">
  <mat-card-title>Affecter un Étudiant</mat-card-title>
  <mat-card-content>
    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Email de l'étudiant à affecter</mat-label>
      <input matInput [(ngModel)]="nouveauEtudiantNom" placeholder="ex: etudiant@example.com">
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="affecterEtudiant()" [disabled]="!nouveauEtudiantNom.trim()">
      <mat-icon>add</mat-icon> Affecter
    </button>
  </mat-card-content>
</mat-card>

<div class="mt-3">
  <button mat-flat-button color="accent" routerLink="/sprints">
    <mat-icon>arrow_back</mat-icon> Retour à la liste des sprints
  </button>
</div>